<div class="row wrapper border-bottom white-bg page-heading">
  <div class="col-lg-10">
    <h2>File upload</h2>
  </div>
  <div class="col-lg-2">

  </div>
</div>
<div class="wrapper wrapper-content animated fadeIn">
  <div class="row">
    <div class="col-lg-12">
      <div class="ibox float-e-margins">
        <div class="ibox-title">
          <h5>Dropzone Area</h5>
          <div class="ibox-tools">
            <a class="collapse-link">
              <i class="fa fa-chevron-up"></i>
            </a>
            <a class="dropdown-toggle" data-toggle="dropdown" href="#">
              <i class="fa fa-wrench"></i>
            </a>
            <ul class="dropdown-menu dropdown-user">
              <li>
                <a href="#">Config option 1</a>
              </li>
              <li>
                <a href="#">Config option 2</a>
              </li>
            </ul>
            <a class="close-link">
              <i class="fa fa-times"></i>
            </a>
          </div>
        </div>
        <div class="ibox-content">

          <%= form_for @upload_file, html: {multipart: true, class: 'dropzone', id: 'my-awesome-dropzone'} do |f| %>
              <div class="fallback">

                <%= f.file_field :file, :required => true, :autocomplete => :off %>

                <%= f.submit 'Submit', :class => 'btn btn-primary pull-right' %>

              </div>
          <% end %>

          <!--<form id="my-awesome-dropzone" class="dropzone" action="#" method="post" enctype="multipart/form-data">
            <div class="dropzone-previews"></div>
            <button type="submit" class="btn btn-primary pull-right">Submit this form!</button>
          </form>-->
          <div>
            <div class="m text-right">
              <small>DropzoneJS is an open source library that provides drag'n'drop file uploads with image previews:
                <a href="https://github.com/enyo/dropzone" target="_blank">https://github.com/enyo/dropzone</a></small>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

<% content_for :javascript do %>

    <script type="text/javascript">


        $(document).ready(function(){
            Dropzone.autoDiscover = false;


            var dropzone = new Dropzone (".dropzone", {

                maxFilesize: 256, // Set the maximum file size to 256 MB
                paramName: "upload_file[file]", // Rails expects the file upload to be something like model[field_name]
                addRemoveLinks: true // Don't show remove links on dropzone itself.


            });

        });

    </script>

<% end %>
